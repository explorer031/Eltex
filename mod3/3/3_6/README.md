3.6 (3 балла). Изменить программу из п. 2.7 так, чтобы дочерний процесс выводил информацию из файла. Если родительский процесс собирается изменить файл, то он отправляет сигнал SIGUSR1 (блокировка доступа к файлу). Когда родительский процесс завершил модификацию файла, он отправляет сигнал SIGUSR2 (разрешение доступа к файлу). Дочерний процесс отправляет новое число родительскому после того, как прочитал файл.

Как видно из приложенного снимка экрана, хоть и происходит блокировка доступа к файлу, процессы не синхронизированы, например родитель может не успеть изменить файл до того как дочерний процесс повторно прочтёт его.
